智能制造系统质量控制的神经网络方法研究摘要研究了利用人工神经网络预测质量参数的方法,提出了用有监督线性特征映射网络构造自校正神经网络的方法及网络参数的选择,并提供了在磨削尺寸预测中的应用,研究表明该方法具有广泛的应用前景。
关键词人工神经网络质量控制智能制造系统由于加工过程的复杂性、非线性和时变性,加工过程中质量特征的变化很难用精确的数学模型描述,从而使加工过程质量控制的智能化遇到困难。
对于智能制造系统,自动跟踪加工过程的变化已成为系统智能化的重要关键之一。
1质量预测控制的人工神经网络方法将人工神经网络用于质量参数预测是一个新的研究课题。
由于神经网络具有自组织、自学习和知识的隐式表达功能,不需要建立精确数学模型[1,2],因而用神经网络方法进行质量参数预测,并进而控制加工过程是可行的。
其实现方法可以有以下3种:(1)递归预测法利用部分已加工零件的质量参数(例如尺寸)作为网络的输入,经网络处理后输出待加工件的尺寸预测值,再经判断和变换得到相应控制调节参数。
(2)综合参数预测法神经网络输入量不仅包括部分加工零件质量参数,还包括加工过程监测信号参数(例如切削力、振动或声发射参数),因而网络可以更灵敏、更准确地反映加工过程的变化,但网络的硬、软件结构复杂。
(3)自校正神经网络方法在制造过程中网络不断地补充学习,修正网络权向量,以跟踪加工过程参数的变化,提高预测精度。
图1为自校正神经网络框图,网络输入为顺序加工的工件尺寸,输出为工件预测尺寸。
若预测尺寸与设定值之差超过允许的变动范围δe,则判定加工状态异常,对机床进行补充调整;若预测值在允许范围内,则继续加工。
加工后经检测得到工件的实际尺寸,由此计算出网络的预测误差(实际值-预测值),并据此对网络进行补充学习。
2自校正神经网络拓扑结构自校正神经网络应具有学习速度快、预测精度高的特点,这是常用的bp网络难以做到的,而有监督线性特征映射网络可适应该要求。
2.1有监督线性特征映射(slfm)网络[3]slfm网络是一种二层前馈网络,其拓扑结构如图2所示,输入层有n个节点对应于n维输入模式向量x(x=[x1x2…xn]。
输出层有p个节点,每个节点都对应于模拟量(例如质量参数尺寸)的某一离散值,即刻尺的某固定点。
相邻节点的对应值之差称为节点分度值。
网络采用奖惩式有监督学习竞争方式,输入学习样本后,计算出输出层的获胜节点,并进行权值修正。
获胜节点是权向量与输入模式的欧几里德(euclid)距离最近的点,即d|xk-wg|=mind|xk-wj|j∈p=min[σ(xi-wij)2](1)wj=(w1jw2j……wnj)wj∈rn权向量的修正过程不仅对获胜节点和期望输出节点(即样本的真实输出模拟量对应的输出节点)进行,还包括其修正域内的其它节点。
修正公式为δwij=ut(t)(xi-wij)j∈nd-ut(t)(xi-wij)jngg≠d(2)式中:u为奖惩系数,0<u≤1;t(t)为权向量修正函数,为迭代次数t的单调减函数;nd,ng分别为期望输出节点与获胜节点修正域。
该网络已成功地用于刀具磨损量的在线估计[3],与bp网络的对比试验表明slfm网络的学习迭代次数小于bp网络的1/50,网络精度比bp网络高1倍多。
2.2基于slfm网络的自校正神经网络自校正神经网络采用slfm网络的结构,但学习样本不是固定的,采用滚动式样本集,每个学习样本由相继加工的n个零件的相应质量参数递推组成,设第i个输入样本xi为:xi=[xi-1xi-2…xi-n];则第i+1个样本为xi+1=[xixi-1…xi-n+1]。
由邻近的ks个样本组成某次的学习样本集。
在加工过程中,随着新样本的形成,不断抛弃老样本,形成滚动样本集。
滚动样本集越大,网络预测精度越高,但网络的学习时间较长。
因此滚动样本集应按加工精度而定,通常可取ks=5~10。
但当已加工零件数尚小于输入节点数n时,就不能按上式形成输入向量,从而限制了该网络的使用,为此,提出初始样本集形成法。
即用均匀随机数或正态随机数补充输入向量中的空缺元素以形成初始样本集。
例如输入向量维数为3时,其初始样本集如表1所示,表中{ri}为随机数。
试验表明,采用正态随机数时,预测误差最小,这与工件质量参数的分布为正态分布有关。
正态随机数按参数变换法产生,即r1=e(-2lnz1)1/2cos(2cz2)+_r2=e(-2lnz2)1/2sin(2cz2)+_式中:z1,z2为[0,1]上的均匀分布随机数;_,e为正态分布均值、方差,_=0,e可按工件加工公差值t选取,e=t/l(l为常数,可取l=6~8,当工件公差较小时l取较大值)。
由于第1个样本完全是由随机数组成,因而预测误差较大。
为了提高网络预测精度,也可用同一加工设备在过去加工过的零件参数组成学习样本集,训练网络。
自校正网络运行过程如图3所示,若不向系统输入新的样本,则学习过程自动停止。
当一批新的零件加工开始时,可利用原有权系数继续工作,因此该系统的知识含量将随加工零件的增加而增长,预测精度也不断改善。
3无心磨削尺寸预测以轴类零件无心磨削为例进行试验研究,工件尺寸为25±0.01mm,工件尺寸用刻度值为0.001mm的机械式比较仪测量。
网络学习参数主要包括:网络输入特征数kf、奖惩系数u、修正函数t(t)、修正域nd,nq及学习样本数ks。
这些参数的选择涉及到权值修正的幅度和范围,对学习速度及网络精度都有较大的影响。
修正域为学习迭代次数的减函数。
在学习过程开始时取大值,对较大范围内的的权值进行修正,而后逐渐收敛。
取分段线性函数为修正函数ne(t)ne(t)=c(1-t/tm)0.5c[1-5(t-0.5tm)/tm]0t≤0.5tm0.5tm<t≤tm0.7tm<t≤tm(3)式中:c为初始修正域节点数,tm为最大迭代循环次数。
当获胜节点与期望节点相距较远(|d-g|>2ne(t))时,取nd=nq=ne(t);反之,取nd=nq=0.5|d-g|。
取修正函数t(t)为t(t)=kα(1-t/tm),式中:kα是需要优化的参数;tm为最大迭代次数。
3.1网络参数优化用单因素试验法考察网络输入特征数kf、奖惩系数u、样本数ks和系数kα对网络输出精度的影响,网络精度用归一化输出结果的标准差e和最大误差δe表示,表2所示为奖惩系数u的影响。
最后得出自校正神经网络用于无心磨削尺寸预测中的最优参数为:kf=8,u=0.8,kα=0.2,ks=8。
4结论质量参数预测控制是智能制造系统的关键。
本文提出3种质量参数预测的神经网络方法,研究表明基于有监督线性特征映射网络的自校正神经网络具有网络结构简单、迭代次数少等优点,适合加工过程质量参数的在线检测,并以磨削加工尺寸预测为例详细研究了网络的设计及参数选择,对该网络在智能制造系统中的应用具有指导作用。
