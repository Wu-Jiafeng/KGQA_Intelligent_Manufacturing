智能制造场景的5g应用展望摘要:为满足智能制造领域物联网当前发展的需求,研究了相应制造场景的5g应用技术。
介绍了5g的关键技术,包括5g支持的应用场景、网络切片、网络功能虚拟化(nfv)/软件定义网络(sdn)、多接入边缘计算、设备对设备通信技术等;给出了基于扩展的信息物理系统5层框架,基于该框架分析了多个智能制造场景的5g应用(包括人机界面和生产信息技术、流程自动化、工厂自动化、物流和仓储、设备监控和维护等);给出了以上应用的5g边缘计算开发框架,以集成上述场景;探讨了5g应用于智能制造场景所面临的多个挑战,以助于5g使能智能制造的落地应用。
关键词:5g应用;智能制造;信息物理系统;网络切片;多接入边缘计算0引言为应对制造业面临的数字化、自动化、智能化和协同化等迫切需求,新型工业物联网技术在工业领域[1-2]的应用日益得到各国重视。
2011年,德国提出工业4.0的概念[3],期望建立提供高度个性化、数字化的产品与服务的智能生产模式[4]。
随后,美国提出了工业互联网,将其定义为一个开放的面向全球的网络,用于连接人、数据和机器[5]。
2015年,日本提出了工业4.1j,将智能制造从单一的工厂延伸到工业的整体价值链。
我国也提出了强调信息化和工业化深度融合的国家战略[6]。
可见,基于5g技术开展智能制造场景的应用研究符合国内外智能制造的发展趋势。
1智能制造的信息物理系统架构工业4.0[3]、工业互联网[5]、日本工业4.1j和中国制造2025战略[7-8],这些概念的核心可视为信息物理系统(cyberphysicalsystems,cps)[9]的应用。
lee等[10]提出的5层架构cps由智能连接层、数据-信息转换层、网络层、认知层和配置层组成,如图1所示。
从智能连接层收集的传感器数据通过数据-信息转换层,转换为底层设备相关的信息;然后传递到网络层,在网络层执行云计算服务将数据融合;融合信息传递到认知层,用于工人操控机器;配置层处做出智能决策,根据具体情况自适应地调整参数配置。
智能制造的生产目标是具有自我感知、自我预测、智能匹配和自主决策等功能。
实现这些目标面临通信的严峻挑战,包括设备高连接密度、低功耗、通信质量的高可靠性、超低延迟、高传输速率等。
5g作为一种先进通信技术,具有更低的延迟、更高的传输速率,以及无处不在的连接特点,可应对上述挑战。
25g关键技术自从5g概念被定义以来,许多组织已经研究了标准规则和技术。
早在2013年,就有多个国家建立了官方的5g组织[11],包括中国的imt-2020(5g)、欧洲的5gia、日本的5gmf以及美国的5gamericas等,开展了5g关键技术研究。
2.15g架构第三代合作伙伴项目(3rdgenerationpartnershipproject,3gpp)在r15中定义了5g系统架构[12],如图2所示。
该5g架构实现了核心网控制面与用户面的分离以及策略控制功能(policycontrolfunction,pcf)和会话管理功能(sessionmanagementfunction,smf)等控制面功能的集中部署,用户面功能(userplanefunction,upf)下沉部署到网络边缘。
5g网络支撑边缘应用时,其应用功能(applicationfunction,af)向网络开放功能(networkexposurefunction,nef)或pcf发送af请求,其中包含n6路由需求、终端(userequipment,ue)信息等一系列参数。
pcf根据af提供的这些信息参数,通过smf选择一个合适的upf(如靠近用户附近位置),并把目标业务流通过n6接口传输到目标应用实例。
2.25g支持的应用场景国际电信联盟对5g面向的通信需求进行分类,即主要支持三种典型场景:增强型移动宽带(enhancedmobilebroadband,embb)、大规模机器型通信(massivemachinetypecommunications,mmtc)、超可靠低延迟通信(ultra-reliableandlowlatencycommunications,urllc)。
embb场景主要针对的是与人相关的通信性能(如用户体验率);mmtc场景的基本需求包括高连接密度、长电池寿命和低成本;urllc场景有两个关键传输需求,即低延迟和高可靠性。
embb拓宽无缝连接的范围,提升用户体验,因此embb场景对数据速率和用户体验速率有较高的要求,而对时间延迟、可靠性及灵活性的要求不高,例如欧盟5g-media[13]项目旨在通过5g网络实现高速率、大带宽的移动媒体流,以提升用户体验。
mmtc终端设备一般数量多、体量大,对连接密度、连接设备的多样性和可变性提出很高的需求。
由于大多数设备是静止的,因此mmtc对延迟和移动性的要求相对较低。
urllc对延迟和可靠性有比较严格的要求[1],不仅需要精确控制信号的端到端传输,而且可将延迟从几十毫秒减少到几毫秒,这是未来通信网络的重要特性之一。
2.3网络切片网络切片是5g按需配置网络的一种实现[14]。
由于难以通过建立一个网络来满足多个通信需求的全部场景,网络切片技术应运而生,即通过网络切片技术支持embb、urllc和mmtc,从而实现端到端系统所在5g网络切片的按需配置。
网络切片通过编排架构可以灵活地部署,因此针对不同企业的差异化服务也是可行的。
例如,challa等[15]提出了一种基于网络切片的多域5g无线网络架构。
wang等[16]利用移动驱动网络切片来实现5g网络中的移动管理。
工业垂直应用面向特定用例的网络切片,将每个网络功能动态分配给各个共享基础物理网络的切片。
与此同时,其端到端网络可由水平切片的特定用例组成,与工业垂直应用的切片需求相似,如图3所示[17]。
低延迟服务可以在本地服务器或边缘云上处理;对延迟要求不高的服务可以使用集中式服务器处理。
2.4nfv/sdn技术网络功能虚拟化(networkfunctionsvirtualization,nfv)是实现网络切片的先决条件。
本质上,nfv将专用设备的软件和硬件功能转移到虚拟机(virtualmachine,vm)。
虚拟机基于行业标准,是具有低成本和简单安装特性的商用服务器。
为实现nfv,软件定义网络(softwaredefinednetwork,sdn)定义了软件控制网络并充分扩展网络容量的概念,其体系结构具有两个主要特征:控制表面和数据表面的分离;控制表面的集中。
通过引入sdn,可将传统电信网络的封闭架构转变为一种灵活且面向服务的架构。
ordonez-lucena等[18]描述了一个支持sdn的nfv部署示例,若干切片在一个通用nfv基础设施上运行,见图4。
该部署包括2个租户,每个租户管理一组特定的切片;每个切片均由虚拟网络功能(virtualnetworkfeature,vnf)组成。
这些vnf进行了适当的组合和链接,以支持和构建切片,并将对应的网络服务交付给用户。
2.5多接入边缘计算多接入边缘计算(multi-accessedgecomputing,mec)技术可满足5g、wifi、固定网络等的多接入需求,同时降低传输时延、缓解网络拥塞,以便在分布式条件下部署服务,就近提供边缘智能业务。
mec提供接近用户的云计算能力,其基于nfv提供的虚拟化软件环境管理第三方应用资源。
该第三方应用以虚拟机的形式部署于边缘云,通过统一的服务开放框架获取无线网络能力。
schneider等[19]认为智能工厂边缘层实现的数据服务包括:①工厂边缘服务(ns1),实时收集和监控机器数据并将其转发到云;②机器互连服务(ns2),每台机器部署一次并将其连接到机器园区的网络;③管理门户服务(ns3),每个机位部署一次,用于图形化、交互式服务配置,如图5所示。
2.6d2d通信技术当前,5g设备对设备(device-to-device,d2d)的通信可以是设备之间的直接通信,也可以通过网络设备来完成。
由于终端的容量限制[20],大多数d2d通信都需要网络设备的辅助,因此,5g技术可用来实现d2d通信,提高移动终端的续航能力,降低近距离传输功率。
数据参数直接在设备之间传输,不需要经过基站,不仅可以减轻基站的通信负担,实现短距离高速传输,而且可以提高区域的总吞吐量,提高频谱利用率。
d2d技术在工业领域有许多应用。
例如,botsov等[21]提出一种基于位置的车辆安全应用移动d2d通信资源分配方案;lien等[22]介绍了设备到设备接近服务(prose),该服务支持用户设备之间的直接数据交换。
d2d通信技术在实现机器对机器通信方面发挥着重要作用,尤其在当前工业领域机器存在通信过载问题的情况下。
图6所示为5g蜂窝网络d2d架构的设备层,邻近设备或用户设备(ue)可以在有/无基站(bs)的情况下直接进行通信(分别对应操作员控制/设备控制),ue可以直接将数据发送到目的地,也可以通过充当继电器将数据进一步传输到目的地[23]。
从以上5g的关键技术可见,5g实现了信息化与工业化的深度融合。
在未来的工业领域,5g技术也将实现人与物的连接,达成无处不在的深度协作和个性化定制,从而形成一个新的工业生态系统。
3智能制造场景及5g应用为阐述问题,本文综合地提出了图7所示的智能制造工厂的基本流程步骤。
同时,根据当前3gpp发表的白皮书[7]等权威文献的划分标准,将这些步骤归属于智能制造的五类场景:①人机界面和生产信息场景;②流程自动化场景;③工厂自动化场景;④物流和仓储场景;⑤监控和维护场景。
下面分别对这些场景需求进行分析,为集成5g技术提供方案。
3.1基于扩展5c架构的智能制造结合智能制造的需求,本文对图1给出的5c架构进行了扩展,如图8所示,增加了不同层级的面向对象以及未来的挑战:①智能连接层存在大量设备,如何访问这些终端设备并保持其高可靠性是5g首要考虑的问题;②数据-信息转换层中,从智能连接层采集的数据需要转换为有用的信息,但是数据的实时性无法保证;③网络层从数据-信息转换层中收集信息,目前研究的挑战是加速数据分析和计算过程,通常需要超低的通信延迟;④认知层主要涉及工人和专家,需对网络层分析的信息做出决策,但是未来对决策计算的速率有更高要求,因此5g用户传输率等参数仍需要进一步优化;⑤配置层使设备能够实现参数的自配置,这对5g网络性能要求很高,尤其是延迟和通信可靠性。
以下分析5g应用的各个智能制造场景(图9),针对性地给出本文5g边缘计算开发框架。
3.2人机界面和生产信息系统场景人机界面(humanmachineinterfaces,hmis)主要应用于人与制造设备之间的交互。
生产信息系统包括制造执行系统(mes)和企业资源规划(erp)系统等。
人机界面和生产信息场景常应用两个典型用例:①增强现实,即操作者戴上ar眼镜,获取机器内部的视觉图像,穿好具有反馈功能的手套,以操控机械臂完成装配任务;②远程访问与监控,这适用于小批量定制生产,以及污染、辐射、爆炸等高风险环境。
5g的低延迟和高可靠性使远程和交互式人机控制成为可能,并可实现工厂内外的实时同步操作。
如图7所示,这两个用例都是从人的角度进行决策,目的是为了提高5c架构在认知层的性能。
在人机交互方面,图10展示的技能互联网[24]将不同领域(机器人、工业、社会和通信)中的趋势综合在一起。
主域捕获的技能传输到从属域再现,然后将反馈返回主域,形成闭环。
在主控领域中,可以使用hmis来捕获技能。
该hmis是一种触觉设备,可以将人的输入转换为特定的运动和压力指令,例如能跟随手的精确运动。
一旦准确地掌握了专家技能,便可以使用低延迟和可靠的通信系统进行传输。
从属域能准确地感知远程环境,让终端机器人通过命令来复制捕获的信息,进而生成反馈信号发送回主域,最终形成闭合环路。
5g可使得该技能互联网系统在结合了混合现实技术的基础上,进一步增强体验和提高性能。
在生产信息系统方面,chu等[25]提出了移动mes,该系统通过与gui的信息交互来完成登录验证并实时获取数据,如图11所示。
移动mes通过wifi或者5g通信技术在服务器上分发android系统的apk程序。
将更新或修改的apk程序发布在服务器上,洁净室中的任何pda在连接5g或wifi后可直接收到更新提示,从而减少更新pda时的点对点需求,大大减少了维护人员的工作量[25]。
3.3流程自动化场景流程自动化的工厂主要面向电力、水、石油、食品等的加工,一般需要对生产过程中的各种工艺参数(流量、温度、液位、压力等)进行健康状态监控和自动控制。
流程自动化工厂高密度分布的设施将人、机器和系统连接起来,因此,5g的应用可提高流程自动化效率,减少内部调度和材料交付等工业领域的劳动力、材料和能源消耗等,还可配备5g移动机器人,以满足物料搬运需求,实现灵活生产。
流程自动化场景中应用了图9中的用例:①5c架构中智能连接层中的大规模无线传感器网络用例———应用人工智能技术进行大规模数据的收集;②数据-信息转换层中的机器对机器控制用例———应用d2d技术缓解数据规模较大的压力;③基于云计算技术的移动机器人用例———通过与cps相结合,实现对流程加工的自适应规划和控制[26]。
因此,有必要在这三个层次上开发基于5g的应用,提高流程自动化场景应用水平。
3.4工厂自动化场景工厂自动化是大规模生产的驱动因素,需要所有机器之间进行通信以执行任务,比如控制和协调工件,将其从一个设备切换到另一个设备。
随着制造过程中产生的数据量的增加,机器之间的联网数量也会增加,因此工业生产需要为多种终端设备开展5g等先进通信的研究。
工厂自动化场景包括图9中的数据-信息转换层的机器到机器控制用例、网络层的运动控制和移动机器人用例,以及配置层的基于安全的自动化控制用例等。
这些用例一般基于云计算系统开展实时报警和故障位置定位,以快速准确地解决问题,实现预测性维护。
因此,5g通信延迟和服务可靠性的高要求有助于以上工厂自动化场景落地应用。
munz等[27]使用7块软件定义无线电(softwaredefinedradio,sdr)板对工厂自动化水平进行测试和评估,即需要对工业机器人铣削加工金属工件进行评估。
整个车间由机床、工业机器人、控制器、执行器和传感器等若干自动化单元组成,如图12所示。
工业机器人由控制器控制。
sdr板在图12中显示为组件1~7,板3放置在机器人旁边并模拟其无线接口,板6模拟控制器的接口,其他sdr板则模拟机床等工业设备。
控制器以循环方式工作,在输入期间,等待来自各种现场设备的值,然后将输出发送到板3。
以上工作单元和流程模拟实际的工厂车间,为实现工厂自动化做出贡献。
3.5物流和仓储场景物流和仓储场景是指制造系统中物料、半成品和最终产品的配送和储存业务。
移动机器人在这方面的应用非常广泛,利用它们可实现物流资源的配送和分拣等自动化过程;同时,室内外的物流都需要与公共网络进行大量的交互。
因此在物流和仓储业务领域,通过5g增强移动机器人的灵活性,对周围情况做出预测性感知及维护。
由图9还可以看出,物流和仓储场景包括智能连接层的大规模无线传感器网络用例、网络层的移动机器人用例、认知层的远程访问和控制用例、配置层的预测性维护用例,这些也是5g的重要应用领域。
cardarelli等[28]从传感系统和协调策略两方面为工厂agv搬运系统进行优化,如图13所示。
传感系统由车载传感器和基础设施传感器组成,二者配合可提高agv的障碍感知能力,从而在动态变化的环境中作出决策。
协调策略需要集中控制单元从agv获取位置信息,计算交通模型,协调搬运流程和路线,提高整体系统性能。
值得注意的是,agv需要不断地与集中控制单元通信,以避免物流交通混乱和拥堵,因此,该系统对通信网络的稳定性和可靠性有较高要求。
3.6监控和维护场景监控和维护场景是指在不影响制造过程的情况下,对操作和机器状态进行实时监控,以随时感知生产状况,及时调整具体操作来最大限度地提高生产效率。
从维护的角度出发,基于5g实时分析设备的状态,实现高性能的预测性维护。
监测和维护场景包括图9中智能连接层的大规模无线传感器网络用例、认知层的远程访问和控制用例、配置层的基于安全的自动化控制和预测性维护用例。
当前5g较为擅长处理该场景,比如,taleb等[29]提出了基于5g切片的设备维护框架,在边缘侧扩展网络切片和数据处理,将智能设备提供的信息远程提供给相关供应商。
图14展示了该框架应用,通过分布式切片部署,可访问必要的设备数据,同时可收集和合并来自不同工业环境的数据,提供全面的设备预测性维护服务。
3.7新型5g边缘计算应用框架边缘计算指工业物联网中的大部分设备和存储元件都靠近数据收集和处理点,将工业物联网的思维和决策能力分配到更接近感知的位置。
针对以上制造场景,基于3gpp定义的5g架构,本文给出了新型5g边缘计算应用框架,包括mec系统侧和边缘节点侧,如图15所示。
边缘节点侧一般使用分布式部署,比如在enodeb基站机房或接入/汇聚机房。
系统侧一般使用集中式部署,比如核心网或其他更集中的位置。
mec系统可与5g系统控制面交互,具有应用基础设施资源编排、应用实例化、应用规则配置等功能,其功能相当于应用控制器。
该框架中的mec作为一个多接入系统,需要处理与wifi、固定接入网络等其他系统的交互消息,同时系统即操作支持系统(operationsupportsystems,oss)负责运维,meorchestrator负责编排,可以让mec针对5g系统的交互独立升级演进,以避免oss与meorchestrator的互相影响。
本框架中,mec系统在一定区域内的边缘节点集上实例化前文提到的hmis与生产信息技术、流程自动化、工厂自动化、物流与仓储、监控与维护等第三方边缘应用;制造期间将实时信息通过af请求发送给5g核心网,当ue向移动网络发起me应用的业务请求时,5g核心网选择合适边缘位置的upf,提供用户层面的功能。
ue移动导致upf位置改变时,mec系统侧可以接收从5g核心网发送过来的up消息,给出目标upf位置信息,mec根据该信息判断是否需要在相应的目标mec节点上新建该应用实例或重定位该me应用实例。
以上的5g第三方边缘计算应用,除了需要处理业务本身相关的内容外,还需要处理的共性内容[30]有:设备的海量数据管理与处理、多接入设备与数据集成、数据建模分析、计算资源分配等。
其实现的关键技术如下:(1)多接入网络互联互通技术。
通过5g核心网用户面的功能下沉实现边缘部署,保证时延在空口、传输、应用服务等多环节得到端到端的保障,实现urllc等场景。
通过与时间敏感网络(timesensitivenetworking,tsn)技术和用于过程控制的ole(oleforprocesscontrol,opc)ua技术相结合,实现传感器层、控制器层到自动化软件层的通信和传输,支持边缘侧的网络接入。
(2)微服务技术与服务计算迁移。
通过微服务技术围绕特定边缘业务构建小型独立可部署服务,使得5g边缘应用可在各自进程中运行,并用轻量级机制通信(具有占用资源少、可在边缘侧灵活部署的优点)。
服务计算迁移将计算密集型应用任务迁移至资源较充足的设备中执行,实现资源的合理规划利用,提升计算效率。
(3)计算卸载技术。
边缘节点配备计算或存储能力后,可提高工业物联网的服务质量、减轻网络负载。
应用计算卸载技术,在整个通信与计算一体化的智能制造系统中分配边缘节点的通信资源和计算资源。
(4)边缘智能技术。
边缘智能可实现5g边缘侧轻量级、低延迟、高效的人工智能计算框架,需要构建边缘侧的建模能力、数据汇聚和分析能力,并从内存占用量和能效等方面,开展边缘计算节点上智能推理加速和多节点训练算法的联动。
以深度学习为例,通过边缘-云数据中心协同实现智能训练,现场设备的数据信息记录并传输到边缘计算节点,构建样本后上传到云数据中心,进行训练并得到模型,然后传回到边缘节点处应用该模型。
通过以上协同可在边缘侧运用智能算法模型库、强化学习和迁移学习等技术实现制造系统智能化。
4结语随着5g标准的逐渐确定,针对制造场景的多接入边缘计算可就近提供边缘节点业务,本文给出的5g边缘计算应用框架可充分运用5g工业物联网,实现智能制造系统的多个应用场景。
智能制造的5g应用面临着一系列挑战:①5g标准化进程的影响。
随着3gppr15的发布,首个5g标准已于2018年6月冻结,其主要关注embb服务,urllc将在r16中得到增强,有望在2019年底之前完成。
标准的不确定性影响了5g的工业场景应用。
②频谱授权和运营商模型的影响。
频谱可用性是智能制造场景部署5g应用服务的重要因素。
为满足极其苛刻的延迟和可靠性要求,需要匹配合适的频谱和运营商模型。
为此需考虑工业领域的特定要求,在所有相关利益相关者之间开展建设性讨论。
③5g安全性影响。
当前的安全性体系结构和解决方案需要基于5g对智能制造场景的需求进行研究,制定相应的安全政策,包括5g架构支持关键型工业应用的安全分析,以调整现有的体系结构和解决方案,最终满足安全性高要求。
尽管面临以上困难,开展5g技术和智能制造的融合,实现异构网络融合、自动化数据采集、数据分析等,仍然具有广阔的发展前景。
