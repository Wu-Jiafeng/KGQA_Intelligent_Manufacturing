智能制造系统调度的一种随机神经网络求解法摘要首先提出了智能调度系统的概念,即智能制造系统智能调度应从整体指标出发,综合研究集零件加工智能调度和产品装配智能规划于一体的调度技术;然后,给出了智能制造系统智能调度的神经网络模型的能量函数,并讨论了一种改进的模拟退火过程(iap)来求解最优解的方法;最后给出了仿真结果。
仿真结果表明,这种改进的模拟退火算法既具有较快的求解速度,又可以逃逸局部最优,而求得问题的全局最优解。
由于这种调度方法是柔性的,因此,它可以应用于各种调度系统中。
关键词:神经网络;调度;智能制造系统;模拟退火多年来,人们对人工智能在制造系统中的应用技术(ai-in-manufacture)进行了广泛的研究,其结果是开发出了各种繁多的面向特定领域的专家系统、基于知识的系统,形成了一系列的“智能化弧岛”(islandofintelligence)。
随着研究的深入,人们逐渐认识到,未来的制造自动化应是智能的集成,制造自动化程度的进一步提高要依赖于整个制造系统的自组织能力(即表现出智能行为)。
如何提高这些“弧岛”的应用范围和在实际制造系统中处理问题的能力,成了人们研究的焦点。
因此对智能制造系统(intelligentmanufacturesystem)的研究,受到人们的高度重视。
ims是指在制造过程中的各个环节以一种高度柔性和高度集成的方法,通过计算机来模拟人类专家在制造过程中的智能活动,即对制造中的智能问题进行分析、判断、推理、构思和决策。
旨在取代或延伸制造环境中人的部分脑力劳动,并对人类专家的知识能进行收集、存储、完善、共享、继承和发展。
智能调度系统是ims的重要组成部分。
智能调度应是从整体指标出发,综合研究集零件加工智能调度和产品装配智能规划于一体的调度技术,它必须具有高度的通用性、智能性和柔性。
目前,ims的研究尚处于概念的形成和实验室研究阶段。
本文根据上述智能制造系统的智能调度定义,给出了智能调度的神经网络模型,并研究了一种改进的模拟退火算法。
1ims调度的数学描述调度的主要任务是对系统有限资源的合理分配,同时使某些性能指标最佳。
这些资源可以是机床、工具、夹具等。
因此调度问题实际上是一个有约束的优化问题。
在以往的研究中对约束条件的讨论只限于资源的约束,在实际的智能制造系统中除了资源约束外,还应包括零件各工序优先顺序约束及零件完工的优先顺序约束,这些优先约束关系由柔性装配系统的装配规划系统提供,并符合最佳装配的要求。
对某一系统假定如下:有n个零件,第i个零件有ni个工序(i=1,2,…,n);有m类资源,第s类资源数为rs(s=1,2,…,m);每个零件的工序完工时间具有优先约束(此优先约束关系由产品设计系统提供);每个零件的完工时间具有优先约束(此优先约束关系由fas产品装配规划系统提供);要求系统所有零件的完工时间之和最短,每个零件的完工时间记为xi。
为描述方便,引入如下符号:n为零件数,ni为零件的工序数;m为资源种类数,rs为每类资源数;ri为第i个零件pi(i=1,2,…,n)的工序对[j,l]集合,其中工序j优先于工序l;qi为第i个零件pi(i=1,2,…,n)的工序对[j,l]集合,其中工序j,l无优先约束关系;ii为可以首次安排的工序集,i=1,2,…,n;nsq为使用第q个s类资源的工序集;p为具有优先完工时间约束的零件集;til为零件pi的工序l的加工时间,i=1,2,…,n,l=1,2,…,ni;xij为零件pi的工序j的完工时间,i=1,2,…,n,j=1,2,…,ni;xi为零件的根工序(调度序列的每个零件最后一个工序)的完工时间,i=1,2,…,n,则xij应满足下列不等式xij-xil+til≤0;对所有的[j,l]∈ri,i=1,2,…,n,j=1,2,…,ni(1)xij-xil+til≤0或xil-xij+tij≤0;对所有的[j,l]∈qi,i=1,2,…,n,j=1,2,…,ni(2)xij-xil+til≤0或xil-xij+tij≤0;对所有的[j,l]∈nsq,s=1,2,…,m,q=1,2,…,rs(3)xk-xi≤0;对所有的[k,i]∈p(4)tij-xij≤0;i=1,2,…,n,j=1,2,…,ni(5)式(1)保证每个零件工序的优先约束关系得到满足,式(2)得到满足以保证同一零件的任两道工序不能同时被加工,式(3)保证同一资源不能同时服务两个工件,式(4)保证零件完工时间的优先约束关系被满足,式(5)保证起始时间的非负性。
因此智能制造系统调度的数学模型可描述为minσni=1xi,同时满足约束条件式(1-5)。
在给出的神经网络模型中,如果xij表示神经元,则网络的能量函数为e=σni=1xi+σni=1σjσlj,l∈rih1f1(xij-xjl+tjl)+σni=1σjσlj,l∈qih2(min(f1(xij-xjl+tjl),f1(xjl-xij+tij)))+σms=1σrsq=1σjσlj,l∈nsqh3(min(f1(xij-xjl+tjl),f1(xjl-xij+tij))+σkk,i∈pσih4f1(xk-xi)+σni=1σnij=1h5f1(xij-tij)这里h1,h2,h3,h4,h5为足够大的正常数;f1(x)=ex0x>0x≤02算法模拟退火算法sa(simulatedannealing)是一种通用随机搜索方法,一般的sa求极小值的过程如下:(1)随机得到一初始解s;(2)设置初始温度t>0;(3)重复如下步骤至凝固温度:重复下列循环至该温度下的平衡状态:产生任意一s的邻近状态s′;计算δc=cos(s′)-cos(s);如果δc≤0,则置s=s′;如果δc>0,则如果random(0,1)≤e-δc/t,置s=s′。
置t=λt(降低温度,λ∈(0.9,1)为降温速率)。
(4)返回s。
由上述过程可以看出,由于sa算法是一种具有扰动的梯度下降搜索方法,因而算法可以逃逸局部最优而获得全局最优解,也正是这一特点,使得在实际的计算过程中只能得到近似最优解,而且最后结果有可能比中间结果还差。
为此本文提出一种改进的模拟退火算法iap(improvedannealingprocedure),它的基本思想如下:由于在算法运行的过程中,当前解s(k)的序列既是对应搜索的控制过程,又对应于最优解随时间变化的更新序列,为此在不改变其控制过程和当前解s(k)的序列的条件下,可由它来简单地再构造一个新的单调递减的最优解的更新序列ss(k)。
即ss(0)=s(0)ss(k)=s(k);ss(k-1);当cost(s(k))<cost(ss(k-1))其他同时在某一温度t下,若自某i个起有ss(i)=ss(i+1)=…=ss(i+q)成立,则表明在连接搜索过的q个解都不比ss(i)好,若q>q0,q0是足够大的常数,则可以令metropolis抽样在该温度t下结束。
另外,记某一温度ti下得到的ss(k)为ss(ti),若自某一i起有ss(ti)=ss(ti+1)=…=ss(ti+p)成立,则表明温度连续下降p次后对解的最优性没有改善;若p足够大,即p>p0时可令退火过程结束,p0为足够大的常数。
从以上的描述可以得出iap可以在尽量保证最优解的前提下,大大地减小计算的工作量,改进的模拟退火算法如下:(1)任选一初始状态s0,并令初始最优解s*=s0和初始当前状态s(0)=s0,设置初始温度t0,并置i=0,p=0,q=0,设置λ∈(0.9,1);(2)置t=ti,以t,s*,s(i)调用改进的metropolis抽样算法,返回最优解s*′和当前状态s′(k),并设s(k)=s′(k);(3)如果cost(s*)>cost(s*′),则令s*=s*′,p=0,否则p=p+1;(4)令ti+1=ti*λ;(5)如果p>p0,则转步骤(6),否则转步骤(2);(6)结束退火过程,s*即为最优解。
在步骤(2)调用的改进的metropolis抽样算法为:(1)令初始最优解s*′=s*,q=0,k=0和初始当前状态s′(k)=s(i);(2)以s′(k)利用产生函数得到一邻近状态s′,并计算δc=cost(s′(k))-cost(s′);(3)若δc<0,则转步骤(4)否则转步骤(6);(4)令s′(k+1)=s′,如果cost(s*′(k))-cost(s′)>0,则s*′=s′,q=0,否则q=q+1;(5)转步骤(7);(6)如果random(1,0)≤e-δc/t,则s′(k+1)=s′,q=q+1,否则s′(k+1)=s′(k);(7)k=k+1,如果q>q0,转步骤(8),否则转步骤(2);(8)返回s*′,s′(k)。
仿真结果求解图1所示三个零件七道工序的调度问题,表1为调度数据,并设零件完工顺序为x1<x2<x3,可得最优调度如图2(b)所示,总的完工时间为20,x1=5,x2=7,x3=8。
若设零件完工顺序为x2<x1<x3,可得最优调度如图2(a)所示,总的完工时间为18,x1=6,x2=4,x3=8。
4结论智能制造系统的调度应是集零件加工智能调度和产品装配智能规划于一体的,适用于任何种类、数量的产吕和资源的智能调度。
这种方法能根据产品要求和系统资源自动地进行智能决策,从而最大限度地改善ims的生产效率。
本文给出了智能制造系统调度的神经网络模型,并讨论了可求得最佳解的改进的模拟退火算法,这种算法是柔性的,它可以适用于各种机器和工件,因此这种调度方法不仅可以用于未来的智能制造系统,而且可以运用于现有的fms和cims中。
